{{ 'component-promotional-banner.css' | asset_url | stylesheet_tag }}

<div class="promotional-banner color-{{ section.settings.color_scheme }} gradient">
  <div class="promotional-banner__content">
    <div class="promotional-banner__text">
      {{ section.settings.text }}
    </div>
    {% if section.settings.button_text != blank and section.settings.button_link != blank %}
      <a href="{{ section.settings.button_link }}" class="promotional-banner__button button button--primary">
        {{ section.settings.button_text }}
      </a>
    {% endif %}
    {% if section.settings.show_close %}
      <button class="promotional-banner__close" type="button" aria-label="Close">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 3L3 9M3 3L9 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    {% endif %}
  </div>
</div>

<style>
  .promotional-banner {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    text-align: center;
    position: relative;
  }
  
  .promotional-banner__content {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .promotional-banner__text {
    font-size: 1rem;
    font-weight: 500;
  }
  
  .promotional-banner__button {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s;
  }
  
  .promotional-banner__close {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    color: currentColor;
  }
  
  @media screen and (max-width: 749px) {
    .promotional-banner__content {
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .promotional-banner__close {
      top: 0.5rem;
      transform: none;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const closeButton = document.querySelector('.promotional-banner__close');
    if (closeButton) {
      closeButton.addEventListener('click', function() {
        this.closest('.promotional-banner').style.display = 'none';
      });
    }
  });
</script>

{% schema %}
{
  "name": "Promotional Banner",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "default": "Welcome to our store! Get 10% off your first order.",
      "label": "Banner text"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "checkbox",
      "id": "show_close",
      "default": true,
      "label": "Show close button"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "background-1",
          "label": "Background 1"
        },
        {
          "value": "background-2",
          "label": "Background 2"
        },
        {
          "value": "inverse",
          "label": "Inverse"
        }
      ],
      "default": "accent-1",
      "label": "Color scheme"
    }
  ],
  "presets": [
    {
      "name": "Promotional Banner"
    }
  ]
}
{% endschema %} 